(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-519ed353"],{"04c2":function(t,e,i){},"1dde":function(t,e,i){var n=i("d039"),r=i("b622"),a=i("2d00"),s=r("species");t.exports=function(t){return a>=51||!n((function(){var e=[],i=e.constructor={};return i[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"65f0":function(t,e,i){var n=i("861d"),r=i("e8b5"),a=i("b622"),s=a("species");t.exports=function(t,e){var i;return r(t)&&(i=t.constructor,"function"!=typeof i||i!==Array&&!r(i.prototype)?n(i)&&(i=i[s],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===e?0:e)}},"826a":function(t,e,i){"use strict";var n=i("04c2"),r=i.n(n);r.a},8418:function(t,e,i){"use strict";var n=i("c04e"),r=i("9bf2"),a=i("5c6c");t.exports=function(t,e,i){var s=n(e);s in t?r.f(t,s,a(0,i)):t[s]=i}},a434:function(t,e,i){"use strict";var n=i("23e7"),r=i("23cb"),a=i("a691"),s=i("50c4"),o=i("7b0b"),c=i("65f0"),h=i("8418"),l=i("1dde"),d=i("ae40"),f=l("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),u=Math.max,x=Math.min,g=9007199254740991,w="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!f||!p},{splice:function(t,e){var i,n,l,d,f,p,v=o(this),b=s(v.length),y=r(t,b),m=arguments.length;if(0===m?i=n=0:1===m?(i=0,n=b-y):(i=m-2,n=x(u(a(e),0),b-y)),b+i-n>g)throw TypeError(w);for(l=c(v,n),d=0;d<n;d++)f=y+d,f in v&&h(l,d,v[f]);if(l.length=n,i<n){for(d=y;d<b-n;d++)f=d+n,p=d+i,f in v?v[p]=v[f]:delete v[p];for(d=b;d>b-n+i;d--)delete v[d-1]}else if(i>n)for(d=b-n;d>y;d--)f=d+n-1,p=d+i-1,f in v?v[p]=v[f]:delete v[p];for(d=0;d<i;d++)v[d+y]=arguments[d+2];return v.length=b-n+i,l}})},ae40:function(t,e,i){var n=i("83ab"),r=i("d039"),a=i("5135"),s=Object.defineProperty,o={},c=function(t){throw t};t.exports=function(t,e){if(a(o,t))return o[t];e||(e={});var i=[][t],h=!!a(e,"ACCESSORS")&&e.ACCESSORS,l=a(e,0)?e[0]:c,d=a(e,1)?e[1]:void 0;return o[t]=!!i&&!r((function(){if(h&&!n)return!0;var t={length:-1};h?s(t,1,{enumerable:!0,get:c}):t[1]=1,i.call(t,l,d)}))}},d46a:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"wrap",staticClass:"sketchpad"},[i("canvas",{ref:"canvas",on:{mousedown:function(e){return t.handledrawstart(e)},mousemove:function(e){return t.handledrawmove(e)},mouseup:function(e){return t.handledrawend(e)}}}),i("div",{staticClass:"ctx-tools"},[i("el-color-picker",{staticClass:"tool-icon ",attrs:{size:"small"},on:{"active-change":t.changeColor,click:function(e){t.toolType="color"}},model:{value:t.drawObj.penColor,callback:function(e){t.$set(t.drawObj,"penColor",e)},expression:"drawObj.penColor"}}),i("span",{staticClass:"tool-icon iconfont icon-qianbi",on:{click:function(e){t.toolType="pen"}}},[i("el-slider",{directives:[{name:"show",rawName:"v-show",value:"pen"===t.toolType,expression:"toolType === 'pen'"}],staticStyle:{width:"100px"},attrs:{step:1,min:1,max:9,"input-size":"mini"},model:{value:t.drawObj.penweight,callback:function(e){t.$set(t.drawObj,"penweight",e)},expression:"drawObj.penweight"}})],1),i("span",{staticClass:"tool-icon iconfont icon-xiangpica",on:{click:function(e){t.toolType="era"}}},[i("el-slider",{directives:[{name:"show",rawName:"v-show",value:"era"===t.toolType,expression:"toolType === 'era'"}],staticStyle:{width:"100px"},attrs:{step:1,min:1,max:9,"input-size":"mini"},model:{value:t.drawObj.xpcweight,callback:function(e){t.$set(t.drawObj,"xpcweight",e)},expression:"drawObj.xpcweight"}})],1),i("span",{staticClass:"tool-icon iconfont icon-chexiao",on:{click:function(e){return e.stopPropagation(),t.handleReback(e)}}}),i("span",{staticClass:"tool-icon iconfont icon-zhongzuo",on:{click:function(e){return e.stopPropagation(),t.handleForw(e)}}})],1)])},r=[],a=(i("fb6a"),i("a434"),{name:"Sketchpad",data:function(){return{defcolor:"coral",toolType:"pen",drawObj:{isStart:!1,beginAxis:{},points:new Array(4),penweight:1,penColor:"#EDEFED",xpcweight:2,traces:[]},rejudge:!1,retime:0}},methods:{getAxis:function(t){var e=0,i=0;function n(t){e+=t.offsetTop,i+=t.offsetLeft,t.offsetParent&&n(t.offsetParent)}return n(this.$el),{x:t.clientX-i,y:t.clientY-e}},drawLine:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0};this.ctx.beginPath(),this.ctx.moveTo(t.x,t.y),this.ctx.quadraticCurveTo(e.x,e.y,i.x,i.y),this.ctx.stroke(),this.ctx.closePath()},lineStyle:function(){var t=this.drawObj;this.ctx.lineWidth=3*t.penweight,this.ctx.fillStyle=t.penColor,this.ctx.strokeStyle=t.penColor,this.ctx.lineJoin="round",this.ctx.lineCap="round"},changeColor:function(t){this.drawObj.penColor=t},saveCanvas:function(){var t=this.$refs.canvas.toDataURL();this.drawObj.traces.unshift(t),this.drawObj.traces.length>10&&(this.drawObj.traces.length=10)},pentart:function(t){var e=this.drawObj;e.beginAxis=this.getAxis(t),e.points.push(e.beginAxis),this.lineStyle()},penmove:function(t){var e=this.drawObj,i=this.getAxis(t);if(e.points.push(i),e.points.length>3){var n=e.points.slice(-2),r=n[0],a={x:(n[0].x+n[1].x)/2,y:(n[0].y+n[1].y)/2};this.drawLine(e.beginAxis,r,a),e.beginAxis=a}},penend:function(t){var e=this.getAxis(t),i=this.drawObj;if(i.points.push(e),i.points.length>3){var n=i.points.slice(-2),r=n[0],a=n[1];this.drawLine(i.beginAxis,r,a)}i.beginAxis={},i.points=[]},crtEraser:function(t){var e=this.drawObj,i=this.ctx;i.save(),i.beginPath(),i.arc(e.beginAxis.x,e.beginAxis.y,2*e.xpcweight,0,2*Math.PI),i.clip(),i.clearRect(0,0,this.$refs.canvas.width,this.$refs.canvas.height),i.restore()},eraStar:function(t){var e=this.drawObj;e.beginAxis=this.getAxis(t),this.crtEraser(t)},eraMove:function(t){var e=this.drawObj,i=this.ctx,n=this.getAxis(t);this.crtEraser(t);var r=2*e.xpcweight*Math.sin(Math.atan((n.y-e.beginAxis.y)/(n.x-e.beginAxis.x))),a=2*e.xpcweight*Math.cos(Math.atan((n.y-e.beginAxis.y)/(n.x-e.beginAxis.x))),s=n.x-e.beginAxis.x,o=0===s?{X:e.beginAxis.x+2*e.xpcweight,Y:e.beginAxis.y}:{X:e.beginAxis.x+r,Y:e.beginAxis.y-a},c=0===s?{X:n.x+2*e.xpcweight,Y:n.y}:{X:n.x+r,Y:n.y-a},h=0===s?{X:n.x-2*e.xpcweight,Y:n.y}:{X:n.x-r,Y:n.y+a},l=0===s?{X:e.beginAxis.x-2*e.xpcweight,Y:e.beginAxis.y}:{X:e.beginAxis.x-r,Y:e.beginAxis.y+a};e.beginAxis=n,i.save(),i.beginPath(),i.moveTo(o.X,o.Y),i.lineTo(c.X,c.Y),i.lineTo(h.X,h.Y),i.lineTo(l.X,l.Y),i.closePath(),i.clip(),i.clearRect(0,0,this.$refs.canvas.width,this.$refs.canvas.height),i.restore()},handledrawstart:function(t){this.rejudge&&(this.drawObj.traces.splice(0,this.retime-1),console.log(this.drawObj.traces),this.rejudge=!1),this.retime=0,"pen"===this.toolType?this.pentart(t):"era"===this.toolType&&this.eraStar(t),this.drawObj.isStart=!0},handledrawmove:function(t){this.drawObj.isStart&&("pen"===this.toolType?this.penmove(t):"era"===this.toolType&&this.eraMove(t))},handledrawend:function(t){"pen"===this.toolType&&this.penend(t),this.drawObj.isStart=!1,this.saveCanvas()},reback:function(t){var e=this;if(t<this.drawObj.traces.length&&t>-1){var i=document.createElement("img");i.src=this.drawObj.traces[t],console.log(this.drawObj.traces.length,t),i.onload=function(){e.ctx.clearRect(0,0,e.$refs.canvas.width,e.$refs.canvas.height),e.ctx.drawImage(i,0,0),e.rejudge=!0}}else alert("只能跳转到这里了哦!")},handleReback:function(){this.retime++,this.reback(this.retime)},handleForw:function(){this.retime--,this.reback(this.retime)}},mounted:function(){var t=this,e=this.$refs.canvas,i=this.ctx=e.getContext("2d"),n=e.width=this.$refs.wrap.clientWidth,r=e.height=this.$refs.wrap.clientHeight;i.fillStyle="#FFFFFF",i.fillRect(0,0,n,r);var a=!0;window.onresize=function(){if(a){a=!1;var n=e.width,r=e.height,s=e.toDataURL(n,r),o=new Image;o.src=s,o.onload=function(){var n=e.width=t.$refs.wrap.clientWidth,r=e.height=t.$refs.wrap.clientHeight;i.drawImage(o,0,0,n,r),a=!0}}}}}),s=a,o=(i("826a"),i("2877")),c=Object(o["a"])(s,n,r,!1,null,null,null);e["default"]=c.exports},e8b5:function(t,e,i){var n=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},fb6a:function(t,e,i){"use strict";var n=i("23e7"),r=i("861d"),a=i("e8b5"),s=i("23cb"),o=i("50c4"),c=i("fc6a"),h=i("8418"),l=i("b622"),d=i("1dde"),f=i("ae40"),p=d("slice"),u=f("slice",{ACCESSORS:!0,0:0,1:2}),x=l("species"),g=[].slice,w=Math.max;n({target:"Array",proto:!0,forced:!p||!u},{slice:function(t,e){var i,n,l,d=c(this),f=o(d.length),p=s(t,f),u=s(void 0===e?f:e,f);if(a(d)&&(i=d.constructor,"function"!=typeof i||i!==Array&&!a(i.prototype)?r(i)&&(i=i[x],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return g.call(d,p,u);for(n=new(void 0===i?Array:i)(w(u-p,0)),l=0;p<u;p++,l++)p in d&&h(n,l,d[p]);return n.length=l,n}})}}]);
//# sourceMappingURL=chunk-519ed353.4e65adea.js.map